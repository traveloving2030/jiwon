---
layout: post
title:  "[2019 학부 종합설계]임베디드 기반 하이퍼레저 패브릭을 활용한 출입관리시스템_임시"
date:   2019-12-23
excerpt: "임베디드 기반 하이퍼레저 패브릭을 활용한 출입관리시스템"
project: true
tag:
- blockchain
- hyperledger
- Raspberry Pi
- Imbeded System
- NFC

comments: true
---


- **발주처 : 한국항공대** 
- **프로젝트 기간 : 2019.03~2019.12** 
- **역할** 
  - **팀 리더 수행하며 프로젝트의 기획, 개발 총괄** 
  - **하이퍼레저 패브릭 도커 컴포즈 구성 및 빌드** 
  - **MSP를 통한 기관별 노드 권한부여** 
  - **출입이력 트랜잭션 체인코드 설계** 
  - **dApp 설계 및 SDK를 활용한 체인코드 연동** 
- **개요**   



|**구분** |**내용** |
| - | - |
|**기획자** |**정지원** |
|**기획(모델) 배경** |<p>**현재 출입관리 시스템은 출입관리를 통제하는 Controller 비용과 출입이력 데 이터 서버 비용이 상당하다. 또한 고객 개인정보유출에 대한 위험성** </p><p>**(\*2p 기존 시스템/서비스 환경 문제점 참고)이 존재** </p><p>**임베디드시스템  기반의  하이퍼레저  패브릭  블록체인을  활용한  출입관리시스 템을 만들어 위와 같은 문제를 해결하고자 함** </p>|
|**기획(모델) 장점** |<p>- **중앙 서버 비용이 필요 없음** </p><p>- **Controller가 서버로부터 데이터를 네트워크를 통해 전달받지 않고 직접 원 장을 비교하므로 네트워크 비용 절감** </p><p>- **체인코드를  통해 블록체인 분산원장에  출입이력을 관리하므로 거래의 안전 성과 데이터 무결성 보장** </p><p>- **출입이력 중 프라이버시에 민감한 내용은 DID를 활용해 암호화하여 저장하 여 개인정보보호 보장** </p>|
- **기획서 ![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.001.png)**
1. **기존 시스템/서비스 환경 문제점** 
- **전자 출입 관리 시스템에서 발생되는 서버비용과 유지보수 비용 및 컨트롤러 비용이 상당함** 
- **기본 사양으로 출입시스템 한 대 구축시 월 50만원 정도의 비용 발생** 

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.002.jpeg)

[ 출처 : 엔로비 방문객 출입시스템 서비스 이용료 (KT G 클라우드 기반) ] 

- **유명 건물 관리 및 출입 통제 시스템에서 개인정보에 관련된 취약점들이 발견되었으며, 이 취약점들을 익스플로 잇 할 경우 단말기에 대한 접근 권한을 공격자가 가져가 데이터를 변조하고 고객 개인정보가 유출될 수 있음** 

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.003.png)

- **현행 시스템/서비스 프로세스**

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.004.jpeg)

[출처 : 에스원 세콤] 

- **현행 시스템과 제안(블록체인 기반) 모델 비교**  



|**구분** |**현행 수기 출입관리** |**현행 전자 출입관리 시스템** |**블록체인 기반 제안 모델** |
| - | - | - | - |
|**안전성** |**수기  위,변조(악의적인  오기입) 가능** |**출입 담당자의 이중거래 발생  가능성** |**탈중앙화 데이터 보안 (기밀성, 무결성 보장)** |
|**투명, 보안성** |**개인정보 탈취 문제 발생** |**개인정보 탈취 문제 발생** |**DID, Private State DB로 개인정보 탈취 문제 해결** |
|**경제성 및 효 율성** |**수기 관리인 필요(인력낭비), 병목현상 (시간, 효율성 낭비)** |**서버, 컨트롤러 비용 발생** |<p>**체인코드를 통한**  </p><p>**출입 One-stop 방식 처리** </p>|
2. **솔루션** 
- **블록체인 플랫폼** 
- **컨트롤러(라즈베리파이)와 데스크탑 모두 동등한 하나의 피어로서 출입 트랜잭션에 대한 검증 수행** 
  - **이 때, 서버 없이 모든 피어가 같은 분산원장을 공유하고 있기에 서버 비용 절감** 
- **컨트롤러는 핵심적인 기능(트랜잭션 검증)만 수행하여 컨트롤러 비용을 절감** 
- **블록 생성에 관여하여 컴퓨팅 연산 비용이 많은 노드는 성능이 좋은 데스크탑을 따로 둠으로서 비용절감 및 효율성 증대** 
- **출입관리가 필요한 기관들을 하나의 채널로 묶어서 One-Stop 방식으로 트랜잭션을 병렬처리함으로서 경 제적인 효과 증대** 
- **프로세스** ![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.005.png)

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.006.jpeg)

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.007.png)![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.008.png)![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.009.png)![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.010.png)

![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.011.jpeg)

**③  기존 출입관리 시스템과 블록체인 모델의 비용 비교** 



|**구분** |**엔로비 방문객 출입관리시스템** |**제안 모델 출입관리시스템** |
| - | - | - |
|**사용된 클라우드** |**KT G-클라우드** |<p>**클라우드 사용 X** </p><p>**(비용 견적은 클라우드를 사용했음을 가정 함)** </p>|
|**비용 산출 기준** |**기본 월 이용 요금 =495,000 \(월)** |<p>**기본 네트워크 구성**  </p><p>**MSP A(CA1, Orderer1, Peer1), MSP B(CA1, Peer1)**  </p><p>+ **컨소시엄 기관 추가(CA1, Peer2) = 436,320 \(월)** </p>|
[ 엔로비 방문객 출입시스템 서비스 이용료 (KT G 클라우드 기반) ]

[ 제안 모델 출입시스템 서비스 이용료 (네이버 클라우드 기반) ]

3. **결론 ![](Aspose.Words.df3eb41e-c6c8-4397-bfe0-3b0495f1676c.001.png)**

**제시한 출입관리시스템 모델은 허가형,  기업형 블록체인 아키텍처인 하이퍼레저 패브릭을 활용하여 만들었음. 출입이력을 관리하는 모든 기관(관리실, DID 발급 및 검증기관, GATE A, GATE B, GATE C)이 모두 컨소시엄으로 참여하고 있음** 

**블록체인을 적용한 출입관리시스템의 장점은 다음과 같음** 

**첫째, 안전성 효과로서, 체인코드에 의해 이행되는 로직에 의해 블록체인과 상태 데이터베이스에 출입 거래기록이 자동 저장되고 한번 기록되면 영원히 저장되는 불변성을 지님. 또한 블록체인을 구성하는 모든 노드가 같은 분산 원장을 공유하고 있기 때문에 안전함** 

**둘째, 투명 및 보안성 효과로서, 출입을 하는 모든 참가자들의 개인정보는 암호화되어 DID 형태로 탈중앙화되어 관리되고, 개인정보에 민감한 출입이력데이터는 암호화되어 프라이빗 상태 데이터베이스에 저장되기 때문에 허가 된 참여자가 아니면 열람할 수 없도록 함** 

**셋째, 경제성 및 효율성 효과로서, 모델시스템이 Onestop방식으로 각 기관들을 하나의 채널(Channel) 로 묶어서 체인코드(Chaincode)로 병렬 처리함으로 서버비용이 발생되지 않고 컨트롤러 비용을 대폭 줄일 수 있음** 

**(기존 경쟁사 대비 기본 이용료 월 6만원 절감)** 
6 
