---
layout: post
title: "객체 생성자 패턴"
date: 2021-05-24
excerpt: "web"
tag:
- WebProgramming
category: [ BoostCourse ]
comments: true
---

# 자바스크립트 객체 다시 이해하기

```js
var healthObj = {
  name : "crong",
  lastTime : "PM10:12",
  showHealth : function() {
    console.log(this.name + "님, 오늘은 " + this.lastTime + "에 운동을 하셨네요");
  }
}

healthObj.showHealth();
```


# 객체 동적 생성 - 비슷한 객체를 중복해서 만들고 싶을 때

- 함수를 이용한다!

```js
function Health(name, lastTime) {
  this.name = name;
  this.lastTime = lastTime;
    this.showHealth = function(){
        return this.name + "님, 오늘은 " + this.lastTime + "에 운동을 하셨네요"
    }
}
```

- 아래와 같이 객체를 만들수 있을까?
    - 결과는 undefined

```js
var obj = Health("crong", "AM 10:10");
```


## 객체 동적 생성방법

- `new 키워드 ` 이용!!
    - Health 함수는 new 키워드로 불리면서, 객체를 `생성하는 함수 역할` `(객체 생성자라고 불림)`

```js
var obj1 = new Health("crong", "AM 10:10")

var obj2 = new Health("호눅스", "AM 12:00")

console.log(obj1.showHealth() === obj1.showHealth()) // false
```

- obj1.showHealth() 함수와 obj2.showHealth() 함수는 각각 가리키고 있는 메모리 위치가 다르다!

- 이 때, 생성자들이 `프로토타입` 이라는것을 가지고 있도록 할 수 있음
    - 프로토타입 안을 들여다보면 같은 지점의 메소드들을 바라보고 있음
    - obj1이 메모리공간에 있는 위치와 obj2가 메모리공간에 있는 위치가 같게 위치시킬 수 있음!

<img src = "https://traveloving2030.github.io/jiwon/assets/img/post/부스트코스/prototype.jpeg" height="280" width="300" />


```js
function Health(name, lastTime) {
  this.name = name;
  this.lastTime = lastTime;
    this.showHealth = function(){
        return this.name + "님, 오늘은 " + this.lastTime + "에 운동을 하셨네요"
    }
}

Health.prototype.showHeath = function(){
   return this.name + "님, 오늘은 " + this.lastTime + "에 운동을 하셨네요"
}
var obj1 = new Health("crong", "AM 10:10")

var obj2 = new Health("호눅스", "AM 12:00")

console.log(obj1.showHealth() === obj1.showHealth()) // true
```

- obj1.showHealth() 함수는 obj1 인스턴스의 프로토타입 안에 들어있는 것을 가리키고 obj2.showHealth() 함수 역시 obj2 인스턴스의 프로토타입 안에 들어있는 것을 가리킴
    - 두 인스턴스의 `프로토타입은 Health 함수내에 존재`하며, `같은 메모리 공간을 가리키므로` 마지막 console이 true를 반환함

<img src = "https://traveloving2030.github.io/jiwon/assets/img/post/부스트코스/55.PNG" height="280" width="300" />



# 생각해보기

1. prototype과 new 키워드를 사용해서 구현할 수 있는 객체지향 자바스크립 코드가 어떤 형태인지?

2. __proto__ 라는 속성이 있습니다. 앞선 예제에서 h, h2를 이용해서 h2.__proto__ 와 같은 식으로 접근해서 결과를 확인해보세요. 직접 쓸 일은 없지만, 내부 prototype 정보를 들여다볼 수 있습니다.

3. Object.create 를 사용해서도 클래스와 같은 코드를 만들 수 있습니다. ES6에서는 Class라는 키워드가 존재합니다. 어떻게 클래스를 만들고 메서드를 추가할 수 있는지 예제를 찾아서 확인해보세요. 많은 framework들이 이런 패턴으로 컴포넌트를 만들고 있습니다. 그런데 ES6 Class도 결국은 prototype을 활용해서 클래스구조를 생성한답니다. 따라서 prototype에 대한 이해는 자바스크립트를 이해하는데 꼭 알아둬야 할 개념입니다.

## 관련 링크

- https://opentutorials.org/module/4047/24626

- https://medium.com/@bluesh55/javascript-prototype-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-f8e67c286b67

- https://blog.naver.com/nebi25/221749567662

- https://medium.com/@han7096/javascript-core-3-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-prototype-c2da4c24820e

